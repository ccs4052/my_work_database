<?php
$a = 'Аргентина манит негра';
$b = 'Sum summus mus';
$a = mb_strtolower($a,'utf8');
$b = strtolower($b);
$a1 = strrev($a);
$b1 = strrev($b);
if ($b == $b1){
    echo $b.' - '.'это палиндром!';
}else{
    echo $b.' - '.'не палиндром!';
}
echo '<br>';
if ($a == $a1){
    echo $a.' - '.'это палиндром!';
}else{
    //$arr = str_split($a); // тоже разбивет строку на массив но плохо работает с utf-8
    $arr = $a;  //для удобства создадим новую переменую из строки
    $arr = preg_split('//u',$arr,-1,PREG_SPLIT_NO_EMPTY); //разбиваем строку на массив работает с utf-8
    $rarr = array_merge(array_fill(0, count($arr), ''), array_reverse($arr)); //создаем новый массив из склееных двух ( один созданный новый из коли
    //$b = 0;        //создаем для налядности переменную с которой нижу создадим финальное условие
    //$match = '';   //для наглядности создаем пустой контейнер в который поместим одинковые элементы массивов и превратим их в строку
    while(array_shift($rarr) !==null) {    //берем первый элемент массива и выполняем действие пока пермым элементом массива будет не NULL (тоесть до конца перевернутого массива нашего из строки)
        $matches = array_intersect_assoc($arr, $rarr); //проверяем на наличие одинаковых символов в массиве изначальном и перемернутом склеинном
        if(isset($matches)) { //условие если массив $marches не пустой то
            $c = count($matches); //создаем переменную которая подсчитает количество элементов массива
            if($c > $b) {    // если $c > $b ($b пока что 0) то
                $b = $c; // то $b = количеству совпидений массива $c
                $match = implode('', $matches); // создаем из элементов массива строку и выводи это наш ответ
            }
        }
        if(!isset($matches)){
            $inc = 'нет полиндрома';
        }
    }
    echo '<br>';
    echo 'самая длинная часть строки'.' "'.$a.'" являющаяся полиндромом'.' - '.$match;
}
if (isset($inc)){
    echo '<br>';
    echo '<br>';
    echo array_shift($arr).' - '.$inc;
}



